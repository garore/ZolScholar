import { Router } from "express";

const router = Router();

interface Scholarship {
  id: string;
  title: string;
  country: string;
  flag: string;
  university: string;
  description: string;
  funding: string;
  level: string;
  deadline: string;
  requirements: string[];
  applicationSteps: string[];
  documents: string[];
  benefits: string[];
  applicationLink: string;
  additionalLinks?: { name: string; url: string }[];
  isActive: boolean;
  createdAt: string;
}

// ุงูููุญ ุงูุฏุฑุงุณูุฉ ุงููุชุงุญุฉ
const scholarships: Scholarship[] = [
  {
    id: "iraq-study-2024",
    title: "ููุญุฉ Study in Iraq โ ุงูุฏุฑุงุณุฉ ูู ุงูุนุฑุงู",
    country: "ุงูุนุฑุงู",
    flag: "๐ฎ๏ฟฝ๏ฟฝ๏ฟฝ",
    university: "ูุฒุงุฑุฉ ุงูุชุนููู ุงูุนุงูู ูุงูุจุญุซ ุงูุนููู ุงูุนุฑุงููุฉ",
    description:
      "ููุญุฉ ููุฏูุฉ ูู ูุฒุงุฑุฉ ุงูุชุนููู ุงูุนุงูู ูุงูุจุญุซ ุงูุนููู ุงูุนุฑุงููุฉ ููุนุงู ุงูุฃูุงุฏููู 2024โ2025. ุชุดูู ุชููููุงู ูุงููุงู ุฃู ุฌุฒุฆูุงู (ุชุดูู ุงูุฑุณูู ุงูุฏุฑุงุณูุฉุ ุงูุณููุ ุงูุชุฃููู ุงูุตุญู) ููุฑุญูุฉ ุงูุจูุงููุฑููุณ ูุงููุงุฌุณุชูุฑ ูุงูุฏูุชูุฑุงู.",
    funding: "ููููุฉ ุจุงููุงูู / ุฌุฒุฆูุงู",
    level: "ุจูุงููุฑููุณุ ูุงุฌุณุชูุฑุ ุฏูุชูุฑุงู",
    deadline: "ูุชุงุจุนุฉ ุงููููุน ูุฅุนูุงู ุฏูุฑุฉ 2025",
    requirements: [
      "ุงูุจูุงููุฑููุณ: ูุนุฏูุงุช ูุจูู ูู 60โ85% ุญุณุจ ุงูุชุฎุตุต",
      "ุงูุจูุงููุฑููุณ: ุญุฏ ุนูุฑ โค33 ุณูุฉ",
      "ุงูุฏุฑุงุณุงุช ุงูุนููุง: ูุนุฏูุงุช ูู 65โ75%",
      "ุงูุฏุฑุงุณุงุช ุงูุนููุง: ุนูุฑ โค40โ45 ุณูุฉ ุญุณุจ ุงูุฏุฑุฌุฉ",
    ],
    applicationSteps: [
      "ุงูุฏุฎูู ุฅูู ููุตุฉ ูุฒุงุฑุฉ ุงูุนุฑุงู",
      "ุฅูุดุงุก ุญุณุงุจ ูุชูุนูู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู",
      "ุชุนุจุฆุฉ ุงูุจูุงูุงุช ุงูุฃูุงุฏูููุฉ ูุงูุดุฎุตูุฉ",
      "ุฑูุน ุงููุซุงุฆู ุงููุทููุจุฉ (๏ฟฝ๏ฟฝูุงุฏุฉุ ุนููุงูุ ุฌูุงุฒ)",
      "ุงุฎุชูุงุฑ ุงูุจุฑูุงูุฌ ูุงูููุญุฉ (ูุงููุฉ ุฃู ูุตู)",
      "ุชูุฏูู ุงูุทูุจ ุฅููุชุฑูููุงู",
    ],
    documents: [
      "ุดูุงุฏุฉ ุงูุชุฎุฑุฌ",
      "ูุดู ุฏุฑุฌุงุช",
      "ุฅุซุจุงุช ุนููุงู",
      "ุฌูุงุฒ ุงูุณูุฑ",
      "ุตูุฑุฉ ุดุฎุตูุฉ",
    ],
    benefits: [
      "ุงูุฑุณูู ุงูุฏุฑุงุณูุฉ",
      "ุงูุณูู ุงูุฌุงูุนู",
      "ุงูุชุฃููู ุงูุตุญู",
      "ูุตุงุฑูู ุงููุนูุดุฉ (ููููุญุฉ ุงููุงููุฉ)",
    ],
    applicationLink: "https://studyiniraq.scrd-gate.gov.iq",
    additionalLinks: [
      {
        name: "ูููุน ูุฒุงุฑุฉ ุงูุฎุงุฑุฌูุฉ ุงูุนุฑุงููุฉ",
        url: "https://mofa.gov.iq",
      },
    ],
    isActive: true,
    createdAt: "2024-12-20",
  },
  {
    id: "ums-muhammadiyah-2024",
    title: "ููุญุฉ ุฌุงูุนุฉ ุงููุญูุฏูุฉ โ Muhammadiyah Surakarta",
    country: "ุฅูุฏูููุณูุง",
    flag: "๐ฎ๐ฉ",
    university: "ุงูุฌุงูุนุฉ ุงููุญูุฏูุฉ ุณูุฑุงูุงุฑุชุง (UMS)",
    description:
      "ุชูุฏู ุงูุฌุงูุนุฉ ุงููุญูุฏูุฉ ุณูุฑุงูุงุฑุชุง (UMS) ุนุฏุฉ ููุญ ููุฑุญูุฉ ุงูุจูุงููุฑููุณ ููู ูู ูู ุงููุงุฏุฑ ุงููุญูุฏู ุฃู ุฐูู ุงูุฃุฏ๏ฟฝ๏ฟฝุก ุงูุฃูุงุฏููู ุงููุฑุชูุน ุฃู ูู ุญุงูุงุช ุงูููุงูุจ ูุงูุญูุธ ูุบูุฑูุง.",
    funding: "ุฏุนู ุฌุฒุฆู ููุตุงุฑูู ุชุนููููุฉ",
    level: "ุจูุงููุฑููุณุ ูุงุฌุณุชูุฑ",
    deadline: "ููุงูุฑโูุจุฑุงูุฑ (ุฏูุนุฉ ุฃููู) ููุงููโููููู (ุฏูุนุฉ ุซุงููุฉ)",
    requirements: [
      "ูุดุงุท ูู ููุธูุฉ ุงููุญูุฏูุฉ",
      "ูุนุฏูุงุช ุฏุฑุงุณูุฉ ููุชุงุฒุฉ (ุฃุนูู ุงููุณุจ)",
      "ุฃู ูููู ุถูู ุฃูุถู 5% ููุญุตูู ุนูู ููุญุฉ BKAD",
      "ุงูุชููุฒ ุงูุฃูุงุฏููู ุฃู ุงูููุงูุจ ุงูุฎุงุตุฉ",
    ],
    applicationSteps: [
      "ุฒูุงุฑุฉ ูููุน pmb.ums.ac.id",
      "ุงุฎุชูุงุฑ 'Beasiswa' ุถูู ุทุฑููุฉ ุงูุชูุฏูู",
      "ุฅูุดุงุก ุญุณุงุจ ุฌุฏูุฏ",
      "ุชุนุจุฆุฉ ุงูุจูุงูุงุช ุงููุทููุจุฉ",
      "ุฑูุน ุงููุณุชูุฏุงุช ุงููุทููุจุฉ",
      "ุชูุฏูู ุงูุทูุจ ูุจู ุงูููุนุฏ ุงูููุงุฆู",
    ],
    documents: [
      "ุชูุตูุฉ ูู ุงููุฏุฑุณุฉ",
      "ุชูุตูุฉ ูู ููุธูุฉ ุงููุญูุฏูุฉ",
      "ุฅุซุจุงุช ุงูุฏุฎู",
      "ุตูุฑุฉ ุดุฎุตูุฉ",
      "ูุดู ุฏุฑุฌุงุช",
      "ุดูุงุฏุฉ ุงูุชุฎุฑุฌ",
    ],
    benefits: [
      "ุฏุนู ุดูุฑู ~Rp 400,000 (ูููุญุฉ BKAD)",
      "ุชุบุทูุฉ ุงููุตุงุฑูู ุงูุชุนููููุฉ",
      "ุฎุตู 25% ุฃู 50% ุญุณุจ ููุน ุงูููุญุฉ",
      "ุฏุนู ุฃูุงุฏููู ุฅุถุงูู",
    ],
    applicationLink: "https://pmb.ums.ac.id",
    additionalLinks: [
      {
        name: "ูููุน ุงููุญูุฏูุฉ ุณููู",
        url: "https://muhammadiyahsolo.com",
      },
    ],
    isActive: true,
    createdAt: "2024-12-20",
  },
  {
    id: "psu-prince-sultan-2025",
    title: "ููุญุฉ ุงูุฃููุฑ ุณูุทุงู โ Prince Sultan University",
    country: "ุงูุณุนูุฏูุฉ",
    flag: "๐คด",
    university: "ุฌุงูุนุฉ ุงูุฃููุฑ ุณูุทุงู (PSU)",
    description:
      "PSU ุชูุฏู ููุญุงู ุฏุฑุงุณูุฉ ูุทูุงุจ ุงูุจูุงููุฑููุณ ูู ุฏุงุฎู ุงูุณุนูุฏูุฉ ูุฎุงุฑุฌูุงุ ุชุดูู ุชุบุทูุฉ 100% ุฃู 50% ุฃู 25% ููุฑุณูู ุงูุฏุฑุงุณูุฉุ ูุน ููุงูุฃุฉ ุดูุฑูุฉ ูุณูู ููููุญุฉ ุงููุงููุฉ.",
    funding: "ููููุฉ ุจุงููุงูู ุฃู ุฌุฒุฆูุงู",
    level: "ุจูุงููุฑููุณ",
    deadline: "15 ููููู 2025",
    requirements: [
      "ุญุงุตู ุนูู ุดูุงุฏุฉ ุงูุซุงูููุฉ ุงูุนุงูุฉ",
      "ูุจูู ูู ุจุฑูุงูุฌ ุจูุงููุฑููุณ ูู PSU",
      "ุณุฌู ุฃูุงุฏููู ููู ููุชููุฒ",
      "ุฃูุดุทุฉ ููุงุฏูุฉ ุฃู ุชุทูุนูุฉ (ูุฑุบูุจ ุจูุง)",
      "ุฅุชูุงู ุงููุบุฉ ุงูุฅูุฌููุฒูุฉ",
    ],
    applicationSteps: [
      "ุฒูุงุฑุฉ ุจูุงุจุฉ PSU Scholarship Portal",
      "ุงูููุฑ ุนูู 'Apply for Scholarship'",
      "ุฅูุดุงุก ุญุณุงุจ ุฌุฏูุฏ ุฃู ุชุณุฌูู ุงูุฏุฎูู",
      "ุชุนุจุฆุฉ ุงุณุชูุงุฑุฉ ุงูููุญุฉ ุจุงููุงูู",
      "ุฑูุน ุฌููุน ุงููุณุชูุฏุงุช ุงููุทููุจุฉ",
      "ูุชุงุจุฉ ุฑุณุงูุฉ ุงูุฏูุงูุน",
      "ุชูุฏูู ุงูุทูุจ ูุจู ุงูููุนุฏ ุงูููุงุฆู",
    ],
    documents: [
      "ุงุณุชูุงุฑุฉ ููุญุฉ ููุชููุฉ",
      "ุงูุดูุงุฏุฉ ุงูุฑุณููุฉ + ูุดู ุฏุฑุฌุงุช",
      "ุฑุณุงูุฉ ุฏูุงูุน ุดุฎุตูุฉ",
      "ุชูุตูุชุงู ุฃูุงุฏูููุชุงู",
      "ุฌูุงุฒ ุงูุณูุฑ ุฃู ุงููููุฉ",
      "ุตูุฑุฉ ุดุฎุตูุฉ ุญุฏูุซุฉ",
    ],
    benefits: [
      "ุชุบุทูุฉ 100% ุฃู 50% ุฃู 25% ููุฑุณูู ุงูุฏุฑุงุณูุฉ",
      "ููุงูุฃุฉ ุดูุฑูุฉ ููููุญุฉ ุงููุงููุฉ",
      "ุณูู ุฌุงูุนู ูุฌุงูู",
      "ุชุฃููู ุตุญู ุดุงูู",
      "ุฏุนู ุฃูุงุฏููู ููููู",
    ],
    applicationLink: "https://www.psu.edu.sa/scholarship-apply",
    additionalLinks: [
      {
        name: "ุจูุงุจุฉ vacancybridge ููุชูุฏูู",
        url: "https://vacancybridge.com",
      },
    ],
    isActive: true,
    createdAt: "2024-12-20",
  },
];

// GET all scholarships
router.get("/", (req, res) => {
  const activeScholarships = scholarships.filter((s) => s.isActive);
  res.json({
    success: true,
    count: activeScholarships.length,
    scholarships: activeScholarships,
    motivationalMessage:
      "๐ช ูุง ุชุณุชุณูู ุฃุจุฏุงู! ูู ุฎุทูุฉ ุชุฎุทููุง ุงูููู ุชูุฑุจู ูู ุญููู. ุงูููุญ ุงูุฏุฑุงุณูุฉ ููุณุช ูุฌุฑุฏ ุฃููุงูุ ุจู ูู ุจูุงุจุฉ ููุณุชูุจู ุฃูุถู ูุญูุงุฉ ูููุฆุฉ ุจุงูุฅูุฌุงุฒุงุช. ุงุจุฏุฃ ุงูุขู ูุงุฌุนู ุญููู ุญูููุฉ! ๐",
  });
});

// GET scholarship by ID
router.get("/:id", (req, res) => {
  const scholarship = scholarships.find(
    (s) => s.id === req.params.id && s.isActive,
  );

  if (!scholarship) {
    return res.status(404).json({
      success: false,
      message: "ุงูููุญุฉ ุบูุฑ ููุฌูุฏุฉ",
    });
  }

  res.json({
    success: true,
    scholarship,
    motivationalMessage:
      "๐ ูุฐู ูุฑุตุชู ุงูุฐูุจูุฉ! ูุง ุชุฏุน ุงูุดู ูููููุ ูุฃูุช ุชุณุชุญู ุงูุฃูุถู. ุงูุฑุฃ ุงูุชูุงุตูู ุฌูุฏุงู ูุงุจุฏุฃ ุงูุชุญุถูุฑ ููุฑุงู! ๐",
  });
});

// GET scholarships by country
router.get("/country/:country", (req, res) => {
  const countryScholarships = scholarships.filter(
    (s) =>
      s.country.toLowerCase().includes(req.params.country.toLowerCase()) &&
      s.isActive,
  );

  res.json({
    success: true,
    count: countryScholarships.length,
    country: req.params.country,
    scholarships: countryScholarships,
    motivationalMessage: `๐ฏ ููุญ ุฑุงุฆุนุฉ ูู ${req.params.country}! ูู ููุญุฉ ูู ูุฑุตุฉ ุฌุฏูุฏุฉ ูุชุบููุฑ ุญูุงุชู. ุงุฎุชุฑ ูุง ููุงุณุจู ูุงุจุฏุฃ ุฑุญูุชู ูุญู ุงููุฌุงุญ! โจ`,
  });
});

// GET scholarships by level
router.get("/level/:level", (req, res) => {
  const levelScholarships = scholarships.filter(
    (s) => s.level.includes(req.params.level) && s.isActive,
  );

  res.json({
    success: true,
    count: levelScholarships.length,
    level: req.params.level,
    scholarships: levelScholarships,
    motivationalMessage: `๐ ููุญ ${req.params.level} ูู ุงูุชุธุงุฑู! ุงูุชุนููู ูู ุฃููู ุณูุงุญ ููููู ุงุณุชุฎุฏุงูู ูุชุบููุฑ ุงูุนุงูู. ุงุจุฏุฃ ุงูุขู! ๐`,
  });
});

// Search scholarships
router.get("/search/:query", (req, res) => {
  const query = req.params.query.toLowerCase();
  const searchResults = scholarships.filter(
    (s) =>
      s.isActive &&
      (s.title.toLowerCase().includes(query) ||
        s.country.toLowerCase().includes(query) ||
        s.university.toLowerCase().includes(query) ||
        s.description.toLowerCase().includes(query) ||
        s.level.toLowerCase().includes(query)),
  );

  res.json({
    success: true,
    query: req.params.query,
    count: searchResults.length,
    scholarships: searchResults,
    motivationalMessage:
      searchResults.length > 0
        ? "๐ ูุฌุฏูุง ูู ููุญ ุฑุงุฆุนุฉ! ุงูุฑุฃ ุงูุชูุงุตูู ูุงุฎุชุฑ ูุง ููุงุณุจ ุฃูุฏุงูู. ุงููุฌุงุญ ููุชุธุฑู! ๐ซ"
        : "๐ค ูู ูุฌุฏ ูุชุงุฆุฌ ูุทุงุจูุฉุ ููู ูุง ุชูุฃุณ! ุฌุฑุจ ุงูุจุญุซ ุจูููุงุช ุฃุฎุฑู ุฃู ุชุตูุญ ุฌููุน ุงูููุญ ุงููุชุงุญุฉ. ุญููู ูุฑูุจ! ๐ช",
  });
});

export default router;
